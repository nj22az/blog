import{r as e}from"./react-core-D6s3EWAV.js";var t=["light","dark"],n="(prefers-color-scheme: dark)",r="undefined"==typeof window,a=e.createContext(void 0),l={setTheme:e=>{},themes:[]},o=()=>{var t;return null!=(t=e.useContext(a))?t:l},s=t=>e.useContext(a)?t.children:e.createElement(i,{...t}),m=["light","dark"],i=({forcedTheme:r,disableTransitionOnChange:l=!1,enableSystem:o=!0,enableColorScheme:s=!0,storageKey:i="theme",themes:f=m,defaultTheme:y=(o?"system":"light"),attribute:$="data-theme",value:v,children:g,nonce:b})=>{let[S,p]=e.useState(()=>d(i,y)),[w,T]=e.useState(()=>d(i)),C=v?Object.values(v):f,E=e.useCallback(e=>{let n=e;if(!n)return;"system"===e&&o&&(n=h());let r=v?v[n]:n,a=l?u():null,m=document.documentElement;if("class"===$?(m.classList.remove(...C),r&&m.classList.add(r)):r?m.setAttribute($,r):m.removeAttribute($),s){let e=t.includes(y)?y:null,r=t.includes(n)?n:e;m.style.colorScheme=r}null==a||a()},[]),k=e.useCallback(e=>{let t="function"==typeof e?e(e):e;p(t);try{localStorage.setItem(i,t)}catch(n){}},[r]),x=e.useCallback(e=>{let t=h(e);T(t),"system"===S&&o&&!r&&E("system")},[S,r]);e.useEffect(()=>{let e=window.matchMedia(n);return e.addListener(x),x(e),()=>e.removeListener(x)},[x]),e.useEffect(()=>{let e=e=>{if(e.key!==i)return;let t=e.newValue||y;k(t)};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[k]),e.useEffect(()=>{E(null!=r?r:S)},[r,S]);let L=e.useMemo(()=>({theme:S,setTheme:k,forcedTheme:r,resolvedTheme:"system"===S?w:S,themes:o?[...f,"system"]:f,systemTheme:o?w:void 0}),[S,k,r,w,o,f]);return e.createElement(a.Provider,{value:L},e.createElement(c,{forcedTheme:r,disableTransitionOnChange:l,enableSystem:o,enableColorScheme:s,storageKey:i,themes:f,defaultTheme:y,attribute:$,value:v,children:g,attrs:C,nonce:b}),g)},c=e.memo(({forcedTheme:r,storageKey:a,attribute:l,enableSystem:o,enableColorScheme:s,defaultTheme:m,value:i,attrs:c,nonce:d})=>{let u="system"===m,h="class"===l?`var d=document.documentElement,c=d.classList;c.remove(${c.map(e=>`'${e}'`).join(",")});`:`var d=document.documentElement,n='${l}',s='setAttribute';`,f=s?t.includes(m)&&m?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${m}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",y=(e,n=!1,r=!0)=>{let a=i?i[e]:e,o=n?e+"|| ''":`'${a}'`,m="";return s&&r&&!n&&t.includes(e)&&(m+=`d.style.colorScheme = '${e}';`),"class"===l?m+=n||a?`c.add(${o})`:"null":a&&(m+=`d[s](n,${o})`),m},$=r?`!function(){${h}${y(r)}}()`:o?`!function(){try{${h}var e=localStorage.getItem('${a}');if('system'===e||(!e&&${u})){var t='${n}',m=window.matchMedia(t);if(m.media!==t||m.matches){${y("dark")}}else{${y("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${y(i?"x[e]":"e",!0)}}${u?"":"else{"+y(m,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${a}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${y(i?"x[e]":"e",!0)}}else{${y(m,!1,!1)};}${f}}catch(t){}}();`;return e.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:$}})}),d=(e,t)=>{if(r)return;let n;try{n=localStorage.getItem(e)||void 0}catch(a){}return n||t},u=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},h=e=>(e||(e=window.matchMedia(n)),e.matches?"dark":"light");export{o as j,s as z};
